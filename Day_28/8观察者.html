<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script>
	//观察者（订阅者） 订阅update消息
    var sub1 = {
        update: function(what) {//what是发布者传的消息
            console.log(what+"sub1根据消息做什么");
        }
    }
    var sub2 = {
        update: function(what) {//what是发布者传的消息
            console.log(what+"sub2根据消息做什么");
        }
    }
    var sub3 = {
        update: function(what) {//what是发布者传的消息
            console.log(what+"sub3根据消息做什么");
        }
    }
	
	class Dep{//发布者
		constructor(newSubs) {
			this.subs = newSubs;//获取订阅者
		}
		
		information(){
			for(let i=0; i<this.subs.length ; i++){
				this.subs[i].update("发布者发送的消息");
			}
		}
	}
	
	 //订阅
    let dep = new Dep([sub1,sub2,sub3]);
    //发送消息
    dep.information();
</script>